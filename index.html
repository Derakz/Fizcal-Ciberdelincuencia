
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Fizcal Ciberdelincuencia | Fizcal Suite</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Iconos Fizcal Suite -->
<link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
<link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
<link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
<link rel="apple-touch-icon" href="icon-192.png">
<link rel="manifest" href="manifest.json">

  <link rel="stylesheet" href="style.css" />

  <!-- PDF.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

  <!-- DOCX -->
  <script src="https://unpkg.com/pizzip@3.1.5/dist/pizzip.min.js"></script>
  <script src="libs/docxtemplater.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</head>

<body>

<header class="app-header">
  <div class="brand">
    <img src="icon-192.png" alt="Fizcal Suite" class="brand-icon">
    <div class="brand-text">
      <h1>Fizcal Ciberdelincuencia</h1>
      <p>MÃ³dulo de <strong>Fizcal Suite</strong></p>
    </div>
  </div>

  <button id="toggleTheme" title="Modo oscuro">ğŸŒ™</button>
</header>

<main class="container">

  <!-- BLOQUE 1: CARGA DE CASO -->
  <section class="card">
    <h2>ğŸ“‚ Fuente del caso fiscal</h2>

    <label class="file-upload">
      â¬†ï¸ Seleccionar archivo PDF
      <input type="file" id="pdfInput" accept="application/pdf" />
    </label>

    <button id="btnTextoManual" class="link-btn">
      âœï¸ Ingresar texto manualmente
    </button>

    <textarea id="caseInput" class="hidden"
      placeholder="Pegue aquÃ­ el texto del caso fiscalâ€¦"></textarea>
  </section>

  <!-- BLOQUE 2: DATOS DE APOYO -->
  <section class="card">
    <h2>ğŸ§  Datos adicionales (opcional)</h2>
    <textarea id="datosApoyo" class="small"
      placeholder="Ejemplo:
Remitente: ComisarÃ­a PNP San Borja
Oficio N.Âº 123-2025
Mes del hecho: agosto 2025"></textarea>

    <p class="hint">
      Use este campo solo si algÃºn dato no es claro en el PDF.
    </p>
  </section>

  <!-- BLOQUE 3: DESPACHO FISCAL -->
  <section class="card">
  <h2>ğŸ›ï¸ Despacho fiscal</h2>

  <select id="despachoSelect">
    <option value="">Seleccione despacho</option>
  </select>

  <label class="hint" style="display:flex; gap:8px; align-items:center; margin-top:8px;">
    <input type="checkbox" id="chkRecordarDespacho">
    Recordar este despacho
  </label>

  <p class="hint">
    El despacho seleccionado se insertarÃ¡ automÃ¡ticamente en el encabezado del documento.
  </p>
</section>

<!-- BLOQUE 3.1: FISCAL RESPONSABLE -->
<section class="card">
  <h2>ğŸ‘¤ Fiscal responsable</h2>

  <input
    type="text"
    id="fiscalInput"
    placeholder="Ejemplo: Juan PÃ©rez GÃ³mez"
  />

  <p class="hint">
    Nombre del fiscal responsable que figurarÃ¡ en el encabezado del documento.
  </p>
</section>

  <!-- BLOQUE 4: TIPO DE DISPOSICIÃ“N -->
  <section class="card">
  <h2>ğŸ“„ Tipo de disposiciÃ³n</h2>

  <select id="delitoSelect">
    <option value="">Seleccione delito</option>
  </select>

  <select id="disposicionSelect" disabled>
    <option value="">Seleccione disposiciÃ³n</option>
  </select>

  <p class="hint">
    Solo se muestran las disposiciones disponibles para el delito elegido.
  </p>
</section>

  <!-- BLOQUE 5: ACCIÃ“N -->
  <section class="actions">
    <button id="btnGenerar" class="primary">
      âš™ï¸ Generar documento Word
    </button>
  </section>

  <!-- BLOQUE 6: ESTADO -->
  <section class="card">
    <h2>ğŸ“Š Estado</h2>
    <pre id="estado">Esperando acciÃ³nâ€¦</pre>
  </section>

</main>

<footer>
  <small>
    Â© 2026 Fizcal Suite. Todos los derechos reservados.<br />
    Software privado de apoyo al trabajo fiscal.<br />
    Creado por Jhonathan Anthony Andres Barba.
  </small>
</footer>

<script src="app.js"></script>
</body>
</html>
